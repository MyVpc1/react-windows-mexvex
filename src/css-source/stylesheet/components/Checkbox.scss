label.app-checkbox {
  user-select: none;
  cursor: pointer;
  @extend .tap-highlight-none;

  &:active input[type="checkbox"] {
    transition: 0.02s ease;
    transform: scale(0.92, 0.92);
  }

  input[type="checkbox"] {
    cursor: pointer;
    position: relative;
    transition: 0.2s ease;
    -moz-appearance: none;

    &::before {
      width: 16px;
      height: 16px;
      content: "";
      display: flex;
      margin-top: -3px;
      margin-left: -3px;
      border-radius: 0;
      border: 2px solid var(--color_button_hover);
      background-color: var(--color_background_default);
      @extend .transition-background-400ms;

      @if $platform == "windows11" {
        border-radius: 4px;
      }
    }
    &:checked {
      @if $platform == "windows10" {
        &::before {
          background: var(--PrimaryColor);
          border: 2px solid var(--PrimaryColor);
        }
      }
      @if $platform == "windows11" {
        &::before {
          background: var(--color_day_primary_night_primarylight);
          border: 2px solid var(--color_day_primary_night_primarylight);
        }
      }
      
      &::after {
        width: 5px;
        height: 10px;
        content: "";
        position: absolute;
        top: -1px;
        left: 3px;
        transform: rotate(45deg);
        @if $platform == "windows10" { border: solid white; }
        @if $platform == "windows11" { border: solid var(--color_background_default); }
        border-width: 0 2px 2px 0;
      }

      &:disabled {
        &::before {
          background: var(--color_link_bg_hover);
          border: 2px solid var(--color_button_hover);
        }
        &::after {
          border: solid var(--color_button_hover);
          border-width: 0 2px 2px 0;
        }
      }
    }
    
    &:checked:disabled::before,
    &:disabled::before {
      cursor: not-allowed;
    }
  }
}